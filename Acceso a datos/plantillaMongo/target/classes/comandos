1. Filtros de Igualdad y Rango  Para buscar valores exactos o en rangos numéricos.

Comando	             Descripción	            Ejemplo de Sintaxis (JSON)

Igualdad	 Busca valor exacto (por defecto).	{"Curso": "PRIMERO"}
Mayor que	      $gt (Greater Than)	        {"Edad": {"$gt": 20}}
Mayor o Igual	$gte (Greater Than or Equal)	{"Nota": {"$gte": 7.5}}
Menor que	        $lt (Less Than)	            {"Edad": {"$lt": 18}}
Menor o Igual	  $lte (Less Than or Equal)	    {"Nota": {"$lte": 5.0}}
No Igual a	         $ne (Not Equal)	        {"turnoMañana": {"$ne": true}}
Dentro de	         $in	                    {"Curso": {"$in": ["TERCERO", "CUARTO"]}}


2. Comandos Lógicos (AND, OR) Para combinar múltiples criterios en una sola consulta.

Comando                      	Descripción	                        Ejemplo de Sintaxis (JSON)
AND (Implícito)	   Todos los criterios deben ser ciertos. 
                        Se separan por comas.	                    {"Curso": "SEGUNDO", "turnoMañana": false}
OR (Explícito)	    Al menos uno de los criterios debe ser cierto.	{"$or": [ {"Edad": 19}, {"Nota": {"$gte": 9.0}} ]}
NOT                            	$not	                            {"Edad": {"$not": {"$lt": 18}}}

3. Filtros en Arrays y Documentos Anidados Cruciales para tu modelo de Entidad y Asignaturas.

Comando	                          Descripción	               Ejemplo de Sintaxis (JSON)

Dot Notation	             Accede a campos anidados.	       {"Entidad.Tipo": "Universidad"}
Array Check	             Busca un valor en el campo Profesor 
                         de cualquier objeto dentro de la
                         lista Asignaturas.	                   {"Asignaturas.Profesor": "Dr. Alan Turing"}
Array Size	             Busca documentos con un número 
                         específico de elementos en la lista.	{"Asignaturas": {"$size": 3}}
                         
4. Ordenación
Este comando se añade después del método find(): db.collection.find(query).sort(sort_document).   

Operación	                       Orden	       Ejemplo de Sintaxis (JSON)
Ascendente (A-Z, 0-9)	             1	                  {"Nombre": 1}
Descendente (Z-A, 9-0)	            -1	                   {"Nota": -1}
Orden Combinado       	Ordena primero por Entidad 
                               y luego por Nota.	      {"Entidad.Nombre": 1, "Nota": -1}   
                               
 // Ejemplo en el shell de MongoDB:
db.estudiantes.find({
    "Curso": "SEGUNDO", // Filtro
    "Nota": { "$gte": 7.0 } // Filtro de Rango
}).sort({ "Nombre": 1 }); // Ordenación                  


// Busca estudiantes en el Curso TERCERO, que estén en el turno de mañana,
// y cuya Nota sea igual o superior a 8.0. Luego los ordena por Edad ascendente.
db.estudiantes.find({
    "Curso": "TERCERO",
    "turnoMañana": true,
    "Nota": { "$gte": 8.0 } // $gte = Mayor o igual que
}).sort({
    "Edad": 1 // 1: Orden Ascendente (de más joven a más viejo)
});


// Busca estudiantes que tengan asignaturas con el profesor "Dr. Alan Turing".
// Luego los ordena por Nombre (Ascendente).
db.estudiantes.find({
    "Asignaturas.Profesor": "Dr. Alan Turing"
}).sort({
    "Nombre": 1 // 1: Orden Ascendente
});


// Busca estudiantes que sean de TERCERO O que tengan una Nota sobresaliente (>= 9.5).
// Si cumple el primero O el segundo, lo devuelve.
db.estudiantes.find({
    "$or": [
        { "Curso": "TERCERO" },
        { "Nota": { "$gte": 9.5 } }
    ]
}).sort({
    "Nota": -1 // -1: Orden Descendente (las mejores notas primero)
});

// Ordena los estudiantes:
// 1º Agrupa por Entidad (A-Z)
// 2º Dentro de cada Entidad, ordena por Curso (A-Z)
// 3º Finalmente, ordena por Nota (Mejor a Peor)
db.estudiantes.find({
    // Puedes dejar esto vacío si quieres consultar todo o añadir un filtro inicial
}).sort({
    "Entidad.Nombre": 1, // 1: Ascendente (Primer nivel)
    "Curso": 1,          // 1: Ascendente (Segundo nivel)
    "Nota": -1           // -1: Descendente (Tercer nivel)
});



En java 
// ✨ FILTRO: Comprobar si un campo existe o no existe ($exists)
// Ejemplo: Buscar estudiantes que tienen o no tienen una Entidad registrada.
public List<Estudiante> buscarPorExistenciaDeEntidad(boolean debeExistir) {
    List<Estudiante> resultado = new ArrayList<>();
    
    // Query de Mongo: { "Entidad": { "$exists": true } } o { "Entidad": { "$exists": false } }
    Document query = new Document("Entidad", new Document("$exists", debeExistir));
    
    FindIterable<Document> docs = coleccion.find(query);
    for (Document doc : docs) {
        resultado.add(mapearEstudiante(doc));
    }
    return resultado;
}


// ✨ FILTRO: No Contenido en la Lista ($nin)
// Ejemplo: Buscar estudiantes que NO están en PRIMERO ni en SEGUNDO.
public List<Estudiante> buscarExcluyendoCursos(List<Curso> cursosAExcluir) {
    List<Estudiante> resultado = new ArrayList<>();
    
    // Creamos la lista de nombres de cursos (String) para Mongo
    List<String> nombresCursos = new ArrayList<>();
    for (Curso c : cursosAExcluir) {
        nombresCursos.add(c.name());
    }
    
    // Query de Mongo: { "Curso": { "$nin": ["PRIMERO", "SEGUNDO"] } }
    Document query = new Document("Curso", new Document("$nin", nombresCursos));
    
    FindIterable<Document> docs = coleccion.find(query);
    for (Document doc : docs) {
        resultado.add(mapearEstudiante(doc));
    }
    return resultado;
}