<div class="container mt-5 mb-5">
    <div class="row justify-content-center">
        <div class="col-md-9">
            <div class="card shadow-lg border-0 rounded-4 overflow-hidden">

                <div class="text-white p-4 d-flex justify-content-between align-items-center"
                    style="background-color: #003366;">
                    <h2 class="mb-0"><i class="bi bi-person-lines-fill me-2"></i> Gestión de Estudiante</h2>
                    <span class="badge bg-light text-dark fs-5 fw-bold">ID: #{{ estudiante.id_entidad }}</span>
                </div>

                <div class="card-body p-4 bg-light">
                    <form (ngSubmit)="actualizar()">

                        <h5 class="fw-bold mb-3 border-bottom pb-2" style="color: #003366;">Información Personal</h5>
                        <div class="row g-3 mb-4">
                            <div class="col-md-6">
                                <label class="form-label fw-bold">Nombre Completo</label>
                                <input type="text" name="nombre" class="form-control border-2"
                                    [(ngModel)]="estudiante.nombre" required>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label fw-bold">Fecha de Nacimiento</label>
                                <input type="date" name="fecha_nacimiento" class="form-control border-2"
                                    [ngModel]="estudiante.fecha_nacimiento | date:'yyyy-MM-dd'"
                                    (ngModelChange)="estudiante.fecha_nacimiento = $event">
                            </div>
                            <div class="col-md-6">
                                <label class="form-label fw-bold">Correo Electrónico</label>
                                <input type="email" name="email" class="form-control border-2"
                                    [(ngModel)]="estudiante.email" required>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label fw-bold">Teléfono / Móvil</label>
                                <input type="text" name="telefono" class="form-control border-2"
                                    [(ngModel)]="estudiante.telefono" required>
                            </div>
                        </div>

                        <h5 class="fw-bold mb-3 border-bottom pb-2" style="color: #003366;">Datos Académicos</h5>
                        <div class="row g-3 mb-4">
                            <div class="col-md-4">
                                <label class="form-label fw-bold">Tipo de Entidad</label>
                                <select name="tipo_entidad" class="form-select border-2"
                                    [(ngModel)]="estudiante.tipo_entidad">
                                    <option value="Instituto">Instituto</option>
                                    <option value="Academia">Academia</option>

                                </select>
                            </div>
                            <div class="col-md-4">
                                <label class="form-label fw-bold">Curso</label>
                                <input type="text" name="curso" class="form-control border-2"
                                    [(ngModel)]="estudiante.curso">
                            </div>
                            <div class="col-md-4">
                                <label class="form-label fw-bold">Modalidad</label>
                                <input type="text" name="modalidad" class="form-control border-2"
                                    [(ngModel)]="estudiante.modalidad">
                            </div>
                            <div class="col-md-12">
                                <label class="form-label fw-bold">Asignaturas (separadas por coma)</label>
                                <input type="text" name="asignaturas" class="form-control border-2"
                                    [ngModel]="estudiante.asignaturas?.join(', ')"
                                    (ngModelChange)="onAsignaturasChange($event)">
                            </div>
                        </div>

                        <h5 class="text-danger fw-bold mb-3 border-bottom pb-2">Seguridad</h5>
                        <div class="row g-3 mb-4">
                            <div class="col-md-6">
                                <label class="form-label fw-bold text-danger">Clave de Acceso</label>
                                <input type="text" name="clave" class="form-control border-2 bg-white"
                                    [(ngModel)]="estudiante.clave">
                            </div>
                            <div class="col-md-6">
                                <label class="form-label fw-bold text-muted">Fecha de Registro</label>
                                <input type="text" class="form-control bg-light"
                                    [value]="estudiante.fecha_registro | date:'medium'" readonly disabled>
                            </div>
                        </div>

                        <hr class="my-4">

                        <div class="d-flex justify-content-between">
                            <a routerLink="/estudiantes" class="btn btn-outline-secondary px-4 fw-bold shadow-sm"
                                style="border-radius: 30px;">
                                <i class="bi bi-arrow-left"></i> Volver
                            </a>
                            <div>
                                <button type="button" (click)="eliminar()"
                                    class="btn btn-danger px-4 fw-bold shadow-sm me-2" style="border-radius: 30px;">
                                    <i class="bi bi-trash"></i> Eliminar
                                </button>
                                <button type="submit" class="btn text-white px-5 fw-bold shadow-sm"
                                    style="border-radius: 30px; background-color: #003366;">
                                    <i class="bi bi-save"></i> Actualizar Ficha
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>